<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MULLING â€” Financial Forensics Engine</title>
  <link rel="stylesheet" href="/static/css/style.css">
  <!-- D3.js v7 -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

  <!-- â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <div class="logo-icon">ğŸ”</div>
        <span class="logo-text">MULLING</span>
        <span class="logo-tag">Forensics Engine</span>
      </div>
      <div class="header-status">
        <span class="status-dot"></span>
        <span>SYSTEM ONLINE</span>
      </div>
    </div>
  </header>

  <!-- â•â•â• MAIN CONTENT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <main class="main">

    <!-- â”€â”€ UPLOAD SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <section class="upload-section">
      <div class="upload-card" id="drop-zone">
        <span class="upload-icon">ğŸ“‚</span>
        <div class="upload-title">Drop transaction CSV here</div>
        <div class="upload-subtitle">or click to browse â€” supports .csv files up to 50 MB</div>
        <button class="upload-btn" id="upload-btn">
          <span>â¬†</span> Choose File
        </button>
        <div class="upload-meta">
          Required columns: transaction_id Â· sender_id Â· receiver_id Â· amount Â· timestamp
        </div>
        <div class="file-info"></div>
        <input type="file" id="file-input" accept=".csv" hidden>
      </div>

      <button class="upload-btn" id="analyze-btn" style="display:none; margin-top:1rem;">
        âš¡ Analyze Transactions
      </button>
    </section>

    <!-- â”€â”€ RESULTS SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <section class="results-section">

      <!-- Stats -->
      <div class="stats-strip">
        <div class="stat-card cyan">
          <div class="stat-label">Accounts Analyzed</div>
          <div class="stat-value" id="stat-accounts">â€”</div>
        </div>
        <div class="stat-card red">
          <div class="stat-label">Suspicious Flagged</div>
          <div class="stat-value" id="stat-suspicious">â€”</div>
        </div>
        <div class="stat-card amber">
          <div class="stat-label">Fraud Rings</div>
          <div class="stat-value" id="stat-rings">â€”</div>
        </div>
        <div class="stat-card green">
          <div class="stat-label">Processing Time</div>
          <div class="stat-value" id="stat-time">â€”</div>
        </div>
      </div>

      <!-- Actions -->
      <div class="actions-bar">
        <button class="action-btn primary" id="btn-download-json">
          ğŸ“¥ Download JSON Report
        </button>
        <button class="action-btn secondary" id="btn-reset">
          ğŸ”„ New Analysis
        </button>
      </div>

      <!-- Graph Visualization -->
      <div class="section-title"><span class="icon">ğŸ•¸ï¸</span> Transaction Network Graph</div>
      <div class="graph-wrapper">
        <div class="graph-toolbar">
          <div class="graph-toolbar-left">
            <button class="toolbar-btn" id="btn-zoom-in">â• Zoom In</button>
            <button class="toolbar-btn" id="btn-zoom-out">â– Zoom Out</button>
            <button class="toolbar-btn" id="btn-zoom-fit">ğŸ¯ Fit</button>
          </div>
          <div class="graph-toolbar-right">
            <button class="toolbar-btn active" id="btn-toggle-rings">ğŸ”´ Ring Highlights</button>
          </div>
        </div>
        <div id="graph-canvas"></div>
        <div class="graph-legend">
          <div class="legend-item"><div class="legend-dot normal"></div> Normal Account</div>
          <div class="legend-item"><div class="legend-dot suspicious"></div> Suspicious Account</div>
          <div class="legend-item"><div class="legend-dot ring"></div> Ring Member</div>
        </div>
      </div>

      <!-- Fraud Ring Summary Table -->
      <div class="section-title"><span class="icon">ğŸ›¡ï¸</span> Fraud Ring Summary</div>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Ring ID</th>
              <th>Pattern Type</th>
              <th>Member Count</th>
              <th>Risk Score</th>
              <th>Member Account IDs</th>
            </tr>
          </thead>
          <tbody id="ring-table-body">
            <tr><td colspan="5" style="text-align:center; color:var(--text-muted);">Upload a CSV to start analysis</td></tr>
          </tbody>
        </table>
      </div>

    </section>
  </main>

  <!-- â•â•â• TOOLTIP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="node-tooltip"></div>

  <!-- â•â•â• LOADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="loader-overlay">
    <div class="loader-ring"></div>
    <div class="loader-text">Analyzing Graphâ€¦</div>
    <div class="loader-subtext">Detecting cycles Â· smurfing Â· shell networks</div>
  </div>

  <!-- â•â•â• TOAST â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="toast"></div>

  <!-- â•â•â• JS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script src="/static/js/engine.js"></script>
</body>
</html>

